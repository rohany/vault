new-instance name=i
----

add-meta instance=i key=k value=v
----

add-meta instance=i key=k2 value=v2
----

list-meta instance=i
----
key: k, value: v
key: k2, value: v2

# Adding meta for an existing key should overwrite it.

add-meta instance=i key=k value=overwrite
----

list-meta instance=i
----
key: k, value: overwrite
key: k2, value: v2

# Try to store the instance with metadata.

new-vault
----

register-experiment name=exp
----

store-instance experiment=exp instance=i
----